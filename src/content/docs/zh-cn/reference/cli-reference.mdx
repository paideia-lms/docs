---
title: CLI å‘½ä»¤
description: Paideia LMS å‘½ä»¤è¡Œç•Œé¢å‘½ä»¤çš„å®Œæ•´å‚è€ƒã€‚
i18nReady: true
---

æ‚¨å¯ä»¥ä½¿ç”¨ Paideia LMS æä¾›çš„å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰æ¥è¿è¡ŒæœåŠ¡å™¨ã€ç®¡ç†æ•°æ®åº“è¿ç§»ä»¥åŠä»ç»ˆç«¯çª—å£æ‰§è¡Œç®¡ç†ä»»åŠ¡ã€‚

## æ¦‚è¿°

Paideia LMS æ˜¯ä¸€ä¸ª**åŒæ¨¡å¼äºŒè¿›åˆ¶æ–‡ä»¶**ï¼Œæ—¢å¯ä»¥ä½œä¸º Web æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‘½ä»¤è¡Œç•Œé¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸å¸¦ä»»ä½•å‚æ•°è¿è¡Œ `paideia` ä¼šå¯åŠ¨æœåŠ¡å™¨ã€‚é€šè¿‡è¿è¡Œ `paideia <command>` å¯ä»¥ä½¿ç”¨ CLI å‘½ä»¤ã€‚

### è¿è¡Œ Paideia

**å¯åŠ¨æœåŠ¡å™¨ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰**:

```bash
# å¯åŠ¨æœåŠ¡å™¨ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰
paideia

# æˆ–æ˜¾å¼æŒ‡å®š
paideia server
```

**è·å–å¸®åŠ©**:

```bash
# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯å’Œå¯ç”¨å‘½ä»¤
paideia help
```

ç»ˆç«¯å°†æ˜¾ç¤ºä»¥ä¸‹æ¶ˆæ¯ï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                       â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â•‘
â•‘      â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•šâ•â•â•šâ•â•  â•šâ•â•    â•‘
â•‘                                                       â•‘
â•‘               Learning Management System              â•‘
â•‘                                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Paideia LMS - 0.5.5
                                   Paideia CLI Commands                                   
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Command                â”‚ Description                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ paideia help           â”‚ Show help                                                     â”‚
â”‚ paideia server         â”‚ Start the Paideia server                                      â”‚
â”‚ paideia migrate status â”‚ Show migration status                                         â”‚
â”‚ paideia migrate up     â”‚ Run pending migrations                                        â”‚
â”‚ paideia migrate fresh  â”‚ Drop all database entities and re-run migrations from scratch â”‚
â”‚ paideia migrate dump   â”‚ Dump database to SQL file                                     â”‚
â”‚ paideia sandbox reset  â”‚ Reset sandbox database (only when SANDBOX_MODE is enabled)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æœåŠ¡å™¨å‘½ä»¤

### `paideia server`

å¯åŠ¨ Paideia LMS Web æœåŠ¡å™¨ã€‚è¿™æ˜¯ä¸å¸¦ä»»ä½•å‚æ•°è¿è¡Œ `paideia` æ—¶çš„é»˜è®¤è¡Œä¸ºã€‚

```bash
# å¯åŠ¨æœåŠ¡å™¨
paideia server

# æˆ–ç®€å•è¿è¡Œï¼ˆé»˜è®¤è¡Œä¸ºï¼‰
paideia
```

æœåŠ¡å™¨å°†å¯åŠ¨å¹¶ç›‘å¬é…ç½®çš„ç«¯å£ï¼ˆé»˜è®¤ï¼šåç«¯ `3001`ï¼Œå‰ç«¯ `3000`ï¼‰ã€‚æœåŠ¡å™¨å°†ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°ä½¿ç”¨ `Ctrl+C` åœæ­¢ã€‚

### `paideia help`

æ˜¾ç¤º ASCII å¾½æ ‡ã€ä»‹ç»å’Œå¯ç”¨å‘½ä»¤ã€‚è¿™æä¾›äº† Paideia LMS åŠŸèƒ½å’Œæ‰€æœ‰ CLI å‘½ä»¤çš„æ¦‚è¿°ã€‚

```bash
paideia help
```

### `paideia version`

æ˜¾ç¤º Paideia LMS ç‰ˆæœ¬å·ã€‚

```bash
paideia version
```

## è¿ç§»å‘½ä»¤

Paideia LMS æä¾›äº†ä¸€å¥—å…¨é¢çš„æ•°æ®åº“è¿ç§»å‘½ä»¤ï¼Œç”¨äºç®¡ç†æ•°æ®åº“æ¶æ„å’Œæ‰§è¡Œç®¡ç†ä»»åŠ¡ã€‚

### `paideia migrate status`

æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“è¿ç§»çš„å½“å‰çŠ¶æ€ã€‚è¿™å°†æ˜¾ç¤ºå“ªäº›è¿ç§»å·²è¿è¡Œï¼Œå“ªäº›å¾…å¤„ç†ã€‚

```bash
paideia migrate status
```

**è¾“å‡ºç¤ºä¾‹**:

```
Migration Name                    Status
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1234567890_initial_schema        âœ… Applied
1234567891_add_users_table       âœ… Applied
1234567892_add_courses_table     â³ Pending
```

### `paideia migrate up`

è¿è¡Œæ‰€æœ‰å¾…å¤„ç†çš„è¿ç§»ã€‚è¿™å°†åº”ç”¨å°šæœªæ‰§è¡Œçš„ä»»ä½•è¿ç§»ã€‚

```bash
paideia migrate up
```

**ä½¿ç”¨åœºæ™¯**:
- æ›´æ–° Paideia LMS ååº”ç”¨æ•°æ®åº“æ¶æ„æ›´æ”¹
- åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œæ–°è¿ç§»
- æ‹‰å–ä»£ç æ›´æ”¹åæ›´æ–°æ•°æ®åº“ç»“æ„

### `paideia migrate fresh`

åˆ é™¤æ‰€æœ‰æ•°æ®åº“å®ä½“å¹¶ä»å¤´é‡æ–°è¿è¡Œæ‰€æœ‰è¿ç§»ã€‚è¿™æ˜¯ä¸€ä¸ªç ´åæ€§æ“ä½œï¼Œå°†åˆ é™¤æ‰€æœ‰æ•°æ®å’Œæ¶æ„ï¼Œç„¶åé‡å»ºæ‰€æœ‰å†…å®¹ã€‚

```bash
# å…¨æ–°è¿ç§»ï¼ˆå°†æç¤ºç¡®è®¤ï¼‰
paideia migrate fresh

# æˆ–ä½¿ç”¨å¼ºåˆ¶æ ‡å¿—è·³è¿‡ç¡®è®¤
paideia migrate fresh --force-accept-warning
```

**ä½¿ç”¨åœºæ™¯**:
- å¼€å‘æœŸé—´å®Œå…¨é‡ç½®æ•°æ®åº“
- ä»å¹²å‡€çš„æ•°æ®åº“å¼€å§‹
- ä»å¤´é‡å»ºæ•°æ®åº“

:::caution[ç ´åæ€§æ“ä½œ]
`migrate fresh` å‘½ä»¤å°†**åˆ é™¤æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®**ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œæ­¤å‘½ä»¤ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å¤‡ä»½ã€‚
:::

### `paideia migrate dump`

å°†æ•´ä¸ªæ•°æ®åº“è½¬å‚¨åˆ° SQL æ–‡ä»¶ã€‚è¿™å°†åˆ›å»ºæ•°æ®åº“çš„å¤‡ä»½ï¼Œå¯ä»¥åœ¨ä»¥åæ¢å¤ã€‚

```bash
# ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶åè½¬å‚¨
paideia migrate dump

# ä½¿ç”¨è‡ªå®šä¹‰æ–‡ä»¶åè½¬å‚¨
paideia migrate dump -o my-backup.sql

# æˆ–ä½¿ç”¨é•¿æ ¼å¼
paideia migrate dump --output my-backup.sql
```

**è¾“å‡ºä½ç½®**: æ‰€æœ‰è½¬å‚¨æ–‡ä»¶éƒ½ä¿å­˜åˆ°é¡¹ç›®æ ¹ç›®å½•çš„ `paideia_data/` ç›®å½•ä¸­ã€‚å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œå°†è‡ªåŠ¨åˆ›å»ºã€‚

**æ–‡ä»¶åæ ¼å¼**: å¦‚æœæœªæŒ‡å®šæ–‡ä»¶åï¼Œè½¬å‚¨æ–‡ä»¶å°†å‘½åä¸º `paideia-dump-{timestamp}.sql`ã€‚

**ä½¿ç”¨åœºæ™¯**:
- åœ¨é‡å¤§æ›´æ”¹ä¹‹å‰åˆ›å»ºæ•°æ®åº“å¤‡ä»½
- å¯¼å‡ºæ•°æ®åº“ä»¥è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨
- åˆ›å»ºç¾éš¾æ¢å¤å¤‡ä»½
- é€šè¿‡ cron ä½œä¸šæˆ–è„šæœ¬è‡ªåŠ¨å¤‡ä»½

**è¾“å‡ºç¤ºä¾‹**:

```bash
paideia migrate dump

# âœ… æ•°æ®åº“è½¬å‚¨å®Œæˆ: paideia_data/paideia-dump-2025-11-02T10-30-45-123Z.sql
```

## æ²™ç›’å‘½ä»¤

Paideia LMS ä¸ºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒæä¾›æ²™ç›’ç®¡ç†å‘½ä»¤ã€‚

### `paideia sandbox reset`

å½“ `SANDBOX_MODE` å¯ç”¨æ—¶ï¼Œæ‰‹åŠ¨é‡ç½®æ²™ç›’æ•°æ®åº“ã€‚æ­¤å‘½ä»¤åˆ é™¤æ‰€æœ‰ç”¨æˆ·æ•°æ®ï¼ˆå­¦ç”Ÿã€è¯¾ç¨‹ç­‰ï¼‰ï¼ŒåŒæ—¶ä¿ç•™ç³»ç»Ÿè¡¨ï¼ˆä½œä¸šæ—¥å¿—ã€è¿ç§»ç­‰ï¼‰ï¼Œåœ¨é‡ç½®è¿‡ç¨‹ä¸­å®ç°**é›¶åœæœºæ—¶é—´**ã€‚

```bash
# é‡ç½®æ²™ç›’æ•°æ®åº“ï¼ˆä»…åœ¨ SANDBOX_MODE å¯ç”¨æ—¶æœ‰æ•ˆï¼‰
paideia sandbox reset
```

**è¦æ±‚**:

- `SANDBOX_MODE` ç¯å¢ƒå˜é‡å¿…é¡»è®¾ç½®ä¸º `"1"` æˆ– `"true"`
- å¦‚æœæ²™ç›’æ¨¡å¼è¢«ç¦ç”¨ï¼Œå‘½ä»¤å°†é™é»˜é€€å‡º

**åŠŸèƒ½**:

- åˆ é™¤æ‰€æœ‰ç”¨æˆ·æ•°æ®é›†åˆï¼ˆç”¨æˆ·ã€è¯¾ç¨‹ã€æ³¨å†Œã€æäº¤ç­‰ï¼‰
- ä¿ç•™ç³»ç»Ÿè¡¨ï¼ˆ`payload-jobs`ã€`payload-jobs-log`ã€`payload-migrations` ç­‰ï¼‰
- ä½¿ç”¨ `seed.json`ï¼ˆå¦‚æœå¯ç”¨ï¼‰ä¸­çš„æ–°æ•°æ®é‡æ–°å¡«å……æ•°æ®åº“
- å®ç°**é›¶åœæœºæ—¶é—´** - åº”ç”¨ç¨‹åºåœ¨é‡ç½®æœŸé—´ç»§ç»­è¿è¡Œ

**ä½¿ç”¨åœºæ™¯**:

- å¼€å‘æœŸé—´æ‰‹åŠ¨é‡ç½®æ•°æ®åº“
- æµ‹è¯•æ•°æ®åº“é‡ç½®åŠŸèƒ½
- åœ¨ä¸é‡å¯æœåŠ¡å™¨çš„æƒ…å†µä¸‹é‡ç½®æµ‹è¯•æ•°æ®
- åœ¨ä¿ç•™ç³»ç»ŸçŠ¶æ€çš„åŒæ—¶æ¸…é™¤ç”¨æˆ·æ•°æ®

**è¾“å‡ºç¤ºä¾‹**:

```bash
paideia sandbox reset

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                       â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â•‘
â•‘      â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•šâ•â•â•šâ•â•  â•šâ•â•    â•‘
â•‘                                                       â•‘
â•‘               Learning Management System              â•‘
â•‘                                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ æ­£åœ¨é‡ç½®æ²™ç›’æ•°æ®åº“...
âœ… æ²™ç›’æ•°æ®åº“é‡ç½®æˆåŠŸå®Œæˆï¼
```

:::info[é›¶åœæœºæ—¶é—´]
æ²™ç›’é‡ç½®è¿‡ç¨‹é€šè¿‡åœ¨é‡ç½®æœŸé—´ä¿ç•™ç³»ç»Ÿè¡¨æ¥å®ç°**é›¶åœæœºæ—¶é—´**ã€‚åº”ç”¨ç¨‹åºåœ¨æ¸…é™¤å’Œé‡æ–°å¡«å……ç”¨æˆ·æ•°æ®æ—¶ç»§ç»­æ­£å¸¸è¿è¡Œã€‚è¿™ä¸åˆ é™¤æ•´ä¸ªæ•°æ®åº“å¹¶å¯¼è‡´åœæœºçš„ `migrate fresh` ä¸åŒã€‚
:::

:::caution[ä»…é™æ²™ç›’æ¨¡å¼]
æ­¤å‘½ä»¤ä»…åœ¨ `SANDBOX_MODE` å¯ç”¨æ—¶æœ‰æ•ˆã€‚å¦‚æœæ²™ç›’æ¨¡å¼è¢«ç¦ç”¨ï¼Œå®ƒå°†ä¸ä¼šæ‰§è¡Œï¼Œç¡®ä¿ä¸ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ„å¤–è¿è¡Œã€‚
:::

## å‘½ä»¤æ ‡å¿—

### å…¨å±€æ ‡å¿—

æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æŒä»¥ä¸‹å…¨å±€æ ‡å¿—ï¼š

#### `--help` æˆ– `-h`

æ˜¾ç¤ºæŒ‡å®šå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚

```bash
paideia migrate --help
```

### è¿ç§»å‘½ä»¤æ ‡å¿—

#### `--force-accept-warning`

è·³è¿‡ç ´åæ€§æ“ä½œçš„ç¡®è®¤æç¤ºã€‚è¯·è°¨æ…ä½¿ç”¨ã€‚

**é€‚ç”¨äº**:
- `paideia migrate fresh`

**ç¤ºä¾‹**:

```bash
paideia migrate fresh --force-accept-warning
```

#### `-o` æˆ– `--output`ï¼ˆç”¨äº migrate dumpï¼‰

æŒ‡å®šæ•°æ®åº“è½¬å‚¨çš„è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶åã€‚æ–‡ä»¶åç›¸å¯¹äº `paideia_data/` ç›®å½•ã€‚

**ç¤ºä¾‹**:

```bash
paideia migrate dump -o backup-before-update.sql
# è¾“å‡º: paideia_data/backup-before-update.sql
```

## æœ€ä½³å®è·µ

### æ•°æ®åº“è¿ç§»

1. **å§‹ç»ˆå…ˆå¤‡ä»½**: åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œè¿ç§»ä¹‹å‰åˆ›å»ºæ•°æ®åº“è½¬å‚¨
   ```bash
   paideia migrate dump -o backup-before-migration.sql
   paideia migrate up
   ```

2. **æ£€æŸ¥çŠ¶æ€**: åœ¨åº”ç”¨è¿ç§»ä¹‹å‰å’Œä¹‹åéªŒè¯è¿ç§»çŠ¶æ€
   ```bash
   paideia migrate status
   ```

3. **åœ¨å¼€å‘ç¯å¢ƒä¸­æµ‹è¯•**: å§‹ç»ˆå…ˆåœ¨å¼€å‘ç¯å¢ƒä¸­æµ‹è¯•è¿ç§»

4. **è°¨æ…ä½¿ç”¨ Fresh**: ä»…åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ `migrate fresh`

### æ•°æ®åº“å¤‡ä»½

1. **å®šæœŸå¤‡ä»½**: å®‰æ’å®šæœŸæ•°æ®åº“è½¬å‚¨
   ```bash
   # æ¯æ—¥å¤‡ä»½çš„ cron ä½œä¸šç¤ºä¾‹
   0 2 * * * cd /path/to/paideia && paideia migrate dump -o daily-$(date +\%Y-\%m-\%d).sql
   ```

2. **åœ¨é‡å¤§æ›´æ”¹ä¹‹å‰**: å§‹ç»ˆåœ¨ä»¥ä¸‹æ“ä½œä¹‹å‰è½¬å‚¨ï¼š
   - è¿è¡Œè¿ç§»
   - æ›´æ–° Paideia LMS
   - è¿›è¡Œé‡å¤§æ¶æ„æ›´æ”¹

3. **å­˜å‚¨**: å°†è½¬å‚¨æ–‡ä»¶ç§»åŠ¨åˆ°å¤–éƒ¨å­˜å‚¨ï¼ˆS3 ç­‰ï¼‰ä»¥é•¿æœŸä¿ç•™

4. **æµ‹è¯•**: å®šæœŸæµ‹è¯•æ¢å¤è¿‡ç¨‹ä»¥ç¡®ä¿å¤‡ä»½æœ‰æ•ˆ

### æ–‡ä»¶ç»„ç»‡

- **è½¬å‚¨ä½ç½®**: æ‰€æœ‰æ•°æ®åº“è½¬å‚¨è‡ªåŠ¨ä¿å­˜åˆ° `paideia_data/` ç›®å½•
- **ç›®å½•åˆ›å»º**: å¦‚æœ `paideia_data/` ç›®å½•ä¸å­˜åœ¨ï¼Œå°†è‡ªåŠ¨åˆ›å»º
- **Git å¿½ç•¥**: `paideia_data/` ç›®å½•è‡ªåŠ¨è¢« git å¿½ç•¥
- **Docker å¿½ç•¥**: `paideia_data/` ç›®å½•ä» Docker æ„å»ºä¸­æ’é™¤

## é€€å‡ºä»£ç 

Paideia CLI å‘½ä»¤è¿”å›é€‚å½“çš„é€€å‡ºä»£ç ï¼š

- **0**: å‘½ä»¤æˆåŠŸå®Œæˆ
- **1**: å‘½ä»¤å¤±è´¥å¹¶å‡ºç°é”™è¯¯

è¿™å…è®¸è½»æ¾é›†æˆåˆ°è„šæœ¬å’Œè‡ªåŠ¨åŒ–å·¥å…·ä¸­ï¼š

```bash
#!/bin/bash
if paideia migrate up; then
    echo "è¿ç§»åº”ç”¨æˆåŠŸ"
else
    echo "è¿ç§»å¤±è´¥"
    exit 1
fi
```

## ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶æ”¯æŒ

æ‰€æœ‰ CLI å‘½ä»¤éƒ½å¯ä»¥ä¸ç¼–è¯‘çš„å•äºŒè¿›åˆ¶æ–‡ä»¶éƒ¨ç½²æ— ç¼é…åˆï¼š

1. **å¼€å‘**: ç›´æ¥è¿è¡Œå‘½ä»¤
   ```bash
   bun server/index.ts migrate status
   ```

2. **ç”Ÿäº§**: ç¼–è¯‘ä¸ºå•äºŒè¿›åˆ¶æ–‡ä»¶å¹¶è¿è¡Œ
   ```bash
   bun build server/index.ts --compile --outfile paideia
   ./paideia migrate status
   ```

CLI æ¨¡å¼å¯ä»¥ä¸ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶é…åˆä½¿ç”¨ï¼Œå› ä¸ºï¼š
- è¿ç§»åœ¨ç¼–è¯‘æ—¶æ†ç»‘åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­
- è¿ç§»å®ç”¨ç¨‹åºæ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿä¾èµ–
- æ‰€æœ‰å‘½ä»¤åœ¨ç¼–è¯‘å’Œéç¼–è¯‘æ¨¡å¼ä¸‹å·¥ä½œæ–¹å¼ç›¸åŒ

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**è¿ç§»å‘½ä»¤ä¸å·¥ä½œ**:

- ç¡®ä¿æ‚¨åœ¨æ­£ç¡®çš„é¡¹ç›®ç›®å½•ä¸­
- æ£€æŸ¥æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£ç¡®é…ç½®
- éªŒè¯ `DATABASE_URL` ç¯å¢ƒå˜é‡æ˜¯å¦å·²è®¾ç½®

**è½¬å‚¨å‘½ä»¤å¤±è´¥**:

- æ£€æŸ¥æ‚¨åœ¨é¡¹ç›®ç›®å½•ä¸­æ˜¯å¦æœ‰å†™å…¥æƒé™
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- éªŒè¯æ•°æ®åº“è¿æ¥æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€

**æœåŠ¡å™¨æ— æ³•å¯åŠ¨**:

- æ£€æŸ¥æ‰€éœ€ç«¯å£æ˜¯å¦å·²è¢«ä½¿ç”¨
- éªŒè¯ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
- æ£€æŸ¥æ—¥å¿—ä»¥è·å–ç‰¹å®šé”™è¯¯æ¶ˆæ¯

## ç›¸å…³æ–‡æ¡£

- [é…ç½®å‚è€ƒ](/zh-cn/reference/configuration-reference/) - ç¯å¢ƒå˜é‡å’Œé…ç½®é€‰é¡¹
- [å®‰è£…å’Œè®¾ç½®](/zh-cn/install-and-setup/) - åˆå§‹è®¾ç½®å’Œé…ç½®
- [æ•°æ®åº“ç®¡ç†](/zh-cn/guides/backend/) - æ•°æ®åº“ç®¡ç†å’Œç®¡ç†
