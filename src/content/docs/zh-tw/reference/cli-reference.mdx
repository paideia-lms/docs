---
title: CLI å‘½ä»¤
description: Paideia LMS å‘½ä»¤åˆ—ä»‹é¢å‘½ä»¤çš„å®Œæ•´åƒè€ƒã€‚
i18nReady: true
---

æ‚¨å¯ä»¥ä½¿ç”¨ Paideia LMS æä¾›çš„å‘½ä»¤åˆ—ä»‹é¢ï¼ˆCLIï¼‰ä¾†åŸ·è¡Œä¼ºæœå™¨ã€ç®¡ç†è³‡æ–™åº«é·ç§»ä»¥åŠå¾çµ‚ç«¯è¦–çª—åŸ·è¡Œç®¡ç†ä»»å‹™ã€‚

## æ¦‚è¿°

Paideia LMS æ˜¯ä¸€å€‹**é›™æ¨¡å¼äºŒé€²ä½æª”æ¡ˆ**ï¼Œæ—¢å¯ä»¥ä½œç‚º Web ä¼ºæœå™¨ï¼Œä¹Ÿå¯ä»¥ä½œç‚ºå‘½ä»¤åˆ—ä»‹é¢ã€‚é è¨­æƒ…æ³ä¸‹ï¼Œä¸å¸¶ä»»ä½•åƒæ•¸åŸ·è¡Œ `paideia` æœƒå•Ÿå‹•ä¼ºæœå™¨ã€‚é€šéåŸ·è¡Œ `paideia <command>` å¯ä»¥ä½¿ç”¨ CLI å‘½ä»¤ã€‚

### åŸ·è¡Œ Paideia

**å•Ÿå‹•ä¼ºæœå™¨ï¼ˆé è¨­è¡Œç‚ºï¼‰**:

```bash
# å•Ÿå‹•ä¼ºæœå™¨ï¼ˆé è¨­è¡Œç‚ºï¼‰
paideia

# æˆ–é¡¯å¼æŒ‡å®š
paideia server
```

**å–å¾—èªªæ˜**:

```bash
# é¡¯ç¤ºèªªæ˜è³‡è¨Šå’Œå¯ç”¨å‘½ä»¤
paideia help
```

çµ‚ç«¯å°‡é¡¯ç¤ºä»¥ä¸‹è¨Šæ¯ï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                       â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â•‘
â•‘      â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•šâ•â•â•šâ•â•  â•šâ•â•    â•‘
â•‘                                                       â•‘
â•‘               Learning Management System              â•‘
â•‘                                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Paideia LMS - 0.5.5
                                   Paideia CLI Commands                                   
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Command                â”‚ Description                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ paideia help           â”‚ Show help                                                     â”‚
â”‚ paideia server         â”‚ Start the Paideia server                                      â”‚
â”‚ paideia migrate status â”‚ Show migration status                                         â”‚
â”‚ paideia migrate up     â”‚ Run pending migrations                                        â”‚
â”‚ paideia migrate fresh  â”‚ Drop all database entities and re-run migrations from scratch â”‚
â”‚ paideia migrate dump   â”‚ Dump database to SQL file                                     â”‚
â”‚ paideia sandbox reset  â”‚ Reset sandbox database (only when SANDBOX_MODE is enabled)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¼ºæœå™¨å‘½ä»¤

### `paideia server`

å•Ÿå‹• Paideia LMS Web ä¼ºæœå™¨ã€‚é€™æ˜¯ä¸å¸¶ä»»ä½•åƒæ•¸åŸ·è¡Œ `paideia` æ™‚çš„é è¨­è¡Œç‚ºã€‚

```bash
# å•Ÿå‹•ä¼ºæœå™¨
paideia server

# æˆ–ç°¡å–®åŸ·è¡Œï¼ˆé è¨­è¡Œç‚ºï¼‰
paideia
```

ä¼ºæœå™¨å°‡å•Ÿå‹•ä¸¦ç›£è½é…ç½®çš„ç«¯å£ï¼ˆé è¨­ï¼šå¾Œç«¯ `3001`ï¼Œå‰ç«¯ `3000`ï¼‰ã€‚ä¼ºæœå™¨å°‡ä¸€ç›´åŸ·è¡Œï¼Œç›´åˆ°ä½¿ç”¨ `Ctrl+C` åœæ­¢ã€‚

### `paideia help`

é¡¯ç¤º ASCII å¾½æ¨™ã€ä»‹ç´¹å’Œå¯ç”¨å‘½ä»¤ã€‚é€™æä¾›äº† Paideia LMS åŠŸèƒ½å’Œæ‰€æœ‰ CLI å‘½ä»¤çš„æ¦‚è¿°ã€‚

```bash
paideia help
```

### `paideia version`

é¡¯ç¤º Paideia LMS ç‰ˆæœ¬è™Ÿã€‚

```bash
paideia version
```

## é·ç§»å‘½ä»¤

Paideia LMS æä¾›äº†ä¸€å¥—å®Œæ•´çš„è³‡æ–™åº«é·ç§»å‘½ä»¤ï¼Œç”¨æ–¼ç®¡ç†è³‡æ–™åº«æ¶æ§‹ä¸¦åŸ·è¡Œç®¡ç†ä»»å‹™ã€‚

### `paideia migrate status`

é¡¯ç¤ºæ‰€æœ‰è³‡æ–™åº«é·ç§»çš„ç•¶å‰ç‹€æ…‹ã€‚é€™å°‡é¡¯ç¤ºå“ªäº›é·ç§»å·²åŸ·è¡Œï¼Œå“ªäº›å¾…è™•ç†ã€‚

```bash
paideia migrate status
```

**è¼¸å‡ºç¯„ä¾‹**:

```
Migration Name                    Status
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1234567890_initial_schema        âœ… Applied
1234567891_add_users_table       âœ… Applied
1234567892_add_courses_table     â³ Pending
```

### `paideia migrate up`

åŸ·è¡Œæ‰€æœ‰å¾…è™•ç†çš„é·ç§»ã€‚é€™å°‡å¥—ç”¨å°šæœªåŸ·è¡Œçš„ä»»ä½•é·ç§»ã€‚

```bash
paideia migrate up
```

**ä½¿ç”¨å ´æ™¯**:
- æ›´æ–° Paideia LMS å¾Œå¥—ç”¨è³‡æ–™åº«æ¶æ§‹è®Šæ›´
- åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­åŸ·è¡Œæ–°é·ç§»
- æ‹‰å–ç¨‹å¼ç¢¼è®Šæ›´å¾Œæ›´æ–°è³‡æ–™åº«çµæ§‹

### `paideia migrate fresh`

åˆªé™¤æ‰€æœ‰è³‡æ–™åº«å¯¦é«”ä¸¦å¾é ­é‡æ–°åŸ·è¡Œæ‰€æœ‰é·ç§»ã€‚é€™æ˜¯ä¸€å€‹ç ´å£æ€§æ“ä½œï¼Œå°‡åˆªé™¤æ‰€æœ‰è³‡æ–™å’Œæ¶æ§‹ï¼Œç„¶å¾Œé‡å»ºæ‰€æœ‰å…§å®¹ã€‚

```bash
# å…¨æ–°é·ç§»ï¼ˆå°‡æç¤ºç¢ºèªï¼‰
paideia migrate fresh

# æˆ–ä½¿ç”¨å¼·åˆ¶æ¨™èªŒè·³éç¢ºèª
paideia migrate fresh --force-accept-warning
```

**ä½¿ç”¨å ´æ™¯**:
- é–‹ç™¼æœŸé–“å®Œå…¨é‡ç½®è³‡æ–™åº«
- å¾ä¹¾æ·¨çš„è³‡æ–™åº«é–‹å§‹
- å¾é ­é‡å»ºè³‡æ–™åº«

:::caution[ç ´å£æ€§æ“ä½œ]
`migrate fresh` å‘½ä»¤å°‡**åˆªé™¤è³‡æ–™åº«ä¸­çš„æ‰€æœ‰è³‡æ–™**ã€‚åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­åŸ·è¡Œæ­¤å‘½ä»¤ä¹‹å‰ï¼Œè«‹ç¢ºä¿å·²å‚™ä»½ã€‚
:::

### `paideia migrate dump`

å°‡æ•´å€‹è³‡æ–™åº«è½‰å„²åˆ° SQL æª”æ¡ˆã€‚é€™å°‡å»ºç«‹è³‡æ–™åº«çš„å‚™ä»½ï¼Œå¯ä»¥åœ¨ä»¥å¾Œæ¢å¾©ã€‚

```bash
# ä½¿ç”¨è‡ªå‹•ç”¢ç”Ÿçš„æª”æ¡ˆåè½‰å„²
paideia migrate dump

# ä½¿ç”¨è‡ªè¨‚æª”æ¡ˆåè½‰å„²
paideia migrate dump -o my-backup.sql

# æˆ–ä½¿ç”¨é•·æ ¼å¼
paideia migrate dump --output my-backup.sql
```

**è¼¸å‡ºä½ç½®**: æ‰€æœ‰è½‰å„²æª”æ¡ˆéƒ½å„²å­˜åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„çš„ `paideia_data/` ç›®éŒ„ä¸­ã€‚å¦‚æœç›®éŒ„ä¸å­˜åœ¨ï¼Œå°‡è‡ªå‹•å»ºç«‹ã€‚

**æª”æ¡ˆåæ ¼å¼**: å¦‚æœæœªæŒ‡å®šæª”æ¡ˆåï¼Œè½‰å„²æª”æ¡ˆå°‡å‘½åç‚º `paideia-dump-{timestamp}.sql`ã€‚

**ä½¿ç”¨å ´æ™¯**:
- åœ¨é‡å¤§è®Šæ›´ä¹‹å‰å»ºç«‹è³‡æ–™åº«å‚™ä»½
- åŒ¯å‡ºè³‡æ–™åº«ä»¥é·ç§»åˆ°å¦ä¸€å°ä¼ºæœå™¨
- å»ºç«‹ç½é›£æ¢å¾©å‚™ä»½
- é€šé cron ä½œæ¥­æˆ–è…³æœ¬è‡ªå‹•å‚™ä»½

**è¼¸å‡ºç¯„ä¾‹**:

```bash
paideia migrate dump

# âœ… è³‡æ–™åº«è½‰å„²å®Œæˆ: paideia_data/paideia-dump-2025-11-02T10-30-45-123Z.sql
```

## æ²™ç›’å‘½ä»¤

Paideia LMS ç‚ºé–‹ç™¼å’Œæ¸¬è©¦ç’°å¢ƒæä¾›æ²™ç›’ç®¡ç†å‘½ä»¤ã€‚

### `paideia sandbox reset`

ç•¶ `SANDBOX_MODE` å•Ÿç”¨æ™‚ï¼Œæ‰‹å‹•é‡ç½®æ²™ç›’è³‡æ–™åº«ã€‚æ­¤å‘½ä»¤åˆªé™¤æ‰€æœ‰ç”¨æˆ¶è³‡æ–™ï¼ˆå­¸ç”Ÿã€èª²ç¨‹ç­‰ï¼‰ï¼ŒåŒæ™‚ä¿ç•™ç³»çµ±è¡¨ï¼ˆä½œæ¥­æ—¥èªŒã€é·ç§»ç­‰ï¼‰ï¼Œåœ¨é‡ç½®éç¨‹ä¸­å¯¦ç¾**é›¶åœæ©Ÿæ™‚é–“**ã€‚

```bash
# é‡ç½®æ²™ç›’è³‡æ–™åº«ï¼ˆåƒ…åœ¨ SANDBOX_MODE å•Ÿç”¨æ™‚æœ‰æ•ˆï¼‰
paideia sandbox reset
```

**è¦æ±‚**:

- `SANDBOX_MODE` ç’°å¢ƒè®Šæ•¸å¿…é ˆè¨­ç½®ç‚º `"1"` æˆ– `"true"`
- å¦‚æœæ²™ç›’æ¨¡å¼è¢«ç¦ç”¨ï¼Œå‘½ä»¤å°‡éœé»˜é€€å‡º

**åŠŸèƒ½**:

- åˆªé™¤æ‰€æœ‰ç”¨æˆ¶è³‡æ–™é›†åˆï¼ˆç”¨æˆ¶ã€èª²ç¨‹ã€è¨»å†Šã€æäº¤ç­‰ï¼‰
- ä¿ç•™ç³»çµ±è¡¨ï¼ˆ`payload-jobs`ã€`payload-jobs-log`ã€`payload-migrations` ç­‰ï¼‰
- ä½¿ç”¨ `seed.json`ï¼ˆå¦‚æœå¯ç”¨ï¼‰ä¸­çš„æ–°è³‡æ–™é‡æ–°å¡«å……è³‡æ–™åº«
- å¯¦ç¾**é›¶åœæ©Ÿæ™‚é–“** - æ‡‰ç”¨ç¨‹å¼åœ¨é‡ç½®æœŸé–“ç¹¼çºŒé‹è¡Œ

**ä½¿ç”¨å ´æ™¯**:

- é–‹ç™¼æœŸé–“æ‰‹å‹•é‡ç½®è³‡æ–™åº«
- æ¸¬è©¦è³‡æ–™åº«é‡ç½®åŠŸèƒ½
- åœ¨ä¸é‡å•Ÿä¼ºæœå™¨çš„æƒ…æ³ä¸‹é‡ç½®æ¸¬è©¦è³‡æ–™
- åœ¨ä¿ç•™ç³»çµ±ç‹€æ…‹çš„åŒæ™‚æ¸…é™¤ç”¨æˆ¶è³‡æ–™

**è¼¸å‡ºç¯„ä¾‹**:

```bash
paideia sandbox reset

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                       â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â•‘
â•‘      â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â•‘
â•‘      â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•šâ•â•â•šâ•â•  â•šâ•â•    â•‘
â•‘                                                       â•‘
â•‘               Learning Management System              â•‘
â•‘                                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ æ­£åœ¨é‡ç½®æ²™ç›’è³‡æ–™åº«...
âœ… æ²™ç›’è³‡æ–™åº«é‡ç½®æˆåŠŸå®Œæˆï¼
```

:::info[é›¶åœæ©Ÿæ™‚é–“]
æ²™ç›’é‡ç½®éç¨‹é€šéåœ¨é‡ç½®æœŸé–“ä¿ç•™ç³»çµ±è¡¨ä¾†å¯¦ç¾**é›¶åœæ©Ÿæ™‚é–“**ã€‚æ‡‰ç”¨ç¨‹å¼åœ¨æ¸…é™¤å’Œé‡æ–°å¡«å……ç”¨æˆ¶è³‡æ–™æ™‚ç¹¼çºŒæ­£å¸¸é‹è¡Œã€‚é€™èˆ‡åˆªé™¤æ•´å€‹è³‡æ–™åº«ä¸¦å°è‡´åœæ©Ÿçš„ `migrate fresh` ä¸åŒã€‚
:::

:::caution[åƒ…é™æ²™ç›’æ¨¡å¼]
æ­¤å‘½ä»¤åƒ…åœ¨ `SANDBOX_MODE` å•Ÿç”¨æ™‚æœ‰æ•ˆã€‚å¦‚æœæ²™ç›’æ¨¡å¼è¢«ç¦ç”¨ï¼Œå®ƒå°‡ä¸æœƒåŸ·è¡Œï¼Œç¢ºä¿ä¸æœƒåœ¨ç”Ÿç”¢ç’°å¢ƒä¸­æ„å¤–é‹è¡Œã€‚
:::

## å‘½ä»¤æ¨™èªŒ

### å…¨åŸŸæ¨™èªŒ

æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æ´ä»¥ä¸‹å…¨åŸŸæ¨™èªŒï¼š

#### `--help` æˆ– `-h`

é¡¯ç¤ºæŒ‡å®šå‘½ä»¤çš„èªªæ˜è³‡è¨Šã€‚

```bash
paideia migrate --help
```

### é·ç§»å‘½ä»¤æ¨™èªŒ

#### `--force-accept-warning`

è·³éç ´å£æ€§æ“ä½œçš„ç¢ºèªæç¤ºã€‚è«‹è¬¹æ…ä½¿ç”¨ã€‚

**é©ç”¨æ–¼**:
- `paideia migrate fresh`

**ç¯„ä¾‹**:

```bash
paideia migrate fresh --force-accept-warning
```

#### `-o` æˆ– `--output`ï¼ˆç”¨æ–¼ migrate dumpï¼‰

æŒ‡å®šè³‡æ–™åº«è½‰å„²çš„è‡ªè¨‚è¼¸å‡ºæª”æ¡ˆåã€‚æª”æ¡ˆåç›¸å°æ–¼ `paideia_data/` ç›®éŒ„ã€‚

**ç¯„ä¾‹**:

```bash
paideia migrate dump -o backup-before-update.sql
# è¼¸å‡º: paideia_data/backup-before-update.sql
```

## æœ€ä½³å¯¦è¸

### è³‡æ–™åº«é·ç§»

1. **å§‹çµ‚å…ˆå‚™ä»½**: åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­åŸ·è¡Œé·ç§»ä¹‹å‰å»ºç«‹è³‡æ–™åº«è½‰å„²
   ```bash
   paideia migrate dump -o backup-before-migration.sql
   paideia migrate up
   ```

2. **æª¢æŸ¥ç‹€æ…‹**: åœ¨å¥—ç”¨é·ç§»ä¹‹å‰å’Œä¹‹å¾Œé©—è­‰é·ç§»ç‹€æ…‹
   ```bash
   paideia migrate status
   ```

3. **åœ¨é–‹ç™¼ç’°å¢ƒä¸­æ¸¬è©¦**: å§‹çµ‚å…ˆåœ¨é–‹ç™¼ç’°å¢ƒä¸­æ¸¬è©¦é·ç§»

4. **è¬¹æ…ä½¿ç”¨ Fresh**: åƒ…åœ¨é–‹ç™¼ç’°å¢ƒä¸­ä½¿ç”¨ `migrate fresh`

### è³‡æ–™åº«å‚™ä»½

1. **å®šæœŸå‚™ä»½**: å®‰æ’å®šæœŸè³‡æ–™åº«è½‰å„²
   ```bash
   # æ¯æ—¥å‚™ä»½çš„ cron ä½œæ¥­ç¯„ä¾‹
   0 2 * * * cd /path/to/paideia && paideia migrate dump -o daily-$(date +\%Y-\%m-\%d).sql
   ```

2. **åœ¨é‡å¤§è®Šæ›´ä¹‹å‰**: å§‹çµ‚åœ¨ä»¥ä¸‹æ“ä½œä¹‹å‰è½‰å„²ï¼š
   - åŸ·è¡Œé·ç§»
   - æ›´æ–° Paideia LMS
   - é€²è¡Œé‡å¤§æ¶æ§‹è®Šæ›´

3. **å„²å­˜**: å°‡è½‰å„²æª”æ¡ˆç§»å‹•åˆ°å¤–éƒ¨å„²å­˜ï¼ˆS3 ç­‰ï¼‰ä»¥é•·æœŸä¿ç•™

4. **æ¸¬è©¦**: å®šæœŸæ¸¬è©¦æ¢å¾©éç¨‹ä»¥ç¢ºä¿å‚™ä»½æœ‰æ•ˆ

### æª”æ¡ˆçµ„ç¹”

- **è½‰å„²ä½ç½®**: æ‰€æœ‰è³‡æ–™åº«è½‰å„²è‡ªå‹•å„²å­˜åˆ° `paideia_data/` ç›®éŒ„
- **ç›®éŒ„å»ºç«‹**: å¦‚æœ `paideia_data/` ç›®éŒ„ä¸å­˜åœ¨ï¼Œå°‡è‡ªå‹•å»ºç«‹
- **Git å¿½ç•¥**: `paideia_data/` ç›®éŒ„è‡ªå‹•è¢« git å¿½ç•¥
- **Docker å¿½ç•¥**: `paideia_data/` ç›®éŒ„å¾ Docker å»ºç½®ä¸­æ’é™¤

## é€€å‡ºä»£ç¢¼

Paideia CLI å‘½ä»¤è¿”å›é©ç•¶çš„é€€å‡ºä»£ç¢¼ï¼š

- **0**: å‘½ä»¤æˆåŠŸå®Œæˆ
- **1**: å‘½ä»¤å¤±æ•—ä¸¦å‡ºç¾éŒ¯èª¤

é€™å…è¨±è¼•é¬†æ•´åˆåˆ°è…³æœ¬å’Œè‡ªå‹•åŒ–å·¥å…·ä¸­ï¼š

```bash
#!/bin/bash
if paideia migrate up; then
    echo "é·ç§»å¥—ç”¨æˆåŠŸ"
else
    echo "é·ç§»å¤±æ•—"
    exit 1
fi
```

## ç·¨è­¯äºŒé€²ä½æª”æ¡ˆæ”¯æ´

æ‰€æœ‰ CLI å‘½ä»¤éƒ½å¯ä»¥èˆ‡ç·¨è­¯çš„å–®äºŒé€²ä½æª”æ¡ˆéƒ¨ç½²ç„¡ç¸«é…åˆï¼š

1. **é–‹ç™¼**: ç›´æ¥åŸ·è¡Œå‘½ä»¤
   ```bash
   bun server/index.ts migrate status
   ```

2. **ç”Ÿç”¢**: ç·¨è­¯ç‚ºå–®äºŒé€²ä½æª”æ¡ˆä¸¦åŸ·è¡Œ
   ```bash
   bun build server/index.ts --compile --outfile paideia
   ./paideia migrate status
   ```

CLI æ¨¡å¼å¯ä»¥èˆ‡ç·¨è­¯çš„äºŒé€²ä½æª”æ¡ˆé…åˆä½¿ç”¨ï¼Œå› ç‚ºï¼š
- é·ç§»åœ¨ç·¨è­¯æ™‚æ†ç¶åˆ°äºŒé€²ä½æª”æ¡ˆä¸­
- é·ç§»å¯¦ç”¨ç¨‹å¼æ²’æœ‰æª”æ¡ˆç³»çµ±ä¾è³´
- æ‰€æœ‰å‘½ä»¤åœ¨ç·¨è­¯å’Œéç·¨è­¯æ¨¡å¼ä¸‹å·¥ä½œæ–¹å¼ç›¸åŒ

## æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

**é·ç§»å‘½ä»¤ä¸å·¥ä½œ**:

- ç¢ºä¿æ‚¨åœ¨æ­£ç¢ºçš„å°ˆæ¡ˆç›®éŒ„ä¸­
- æª¢æŸ¥è³‡æ–™åº«é€£æ¥æ˜¯å¦æ­£ç¢ºé…ç½®
- é©—è­‰ `DATABASE_URL` ç’°å¢ƒè®Šæ•¸æ˜¯å¦å·²è¨­ç½®

**è½‰å„²å‘½ä»¤å¤±æ•—**:

- æª¢æŸ¥æ‚¨åœ¨å°ˆæ¡ˆç›®éŒ„ä¸­æ˜¯å¦æœ‰å¯«å…¥æ¬Šé™
- ç¢ºä¿æœ‰è¶³å¤ çš„ç£ç¢Ÿç©ºé–“
- é©—è­‰è³‡æ–™åº«é€£æ¥æ˜¯å¦è™•æ–¼æ´»å‹•ç‹€æ…‹

**ä¼ºæœå™¨ç„¡æ³•å•Ÿå‹•**:

- æª¢æŸ¥æ‰€éœ€ç«¯å£æ˜¯å¦å·²è¢«ä½¿ç”¨
- é©—è­‰ç’°å¢ƒè®Šæ•¸æ˜¯å¦æ­£ç¢ºè¨­ç½®
- æª¢æŸ¥æ—¥èªŒä»¥ç²å–ç‰¹å®šéŒ¯èª¤è¨Šæ¯

## ç›¸é—œæ–‡æª”

- [é…ç½®åƒè€ƒ](/zh-tw/reference/configuration-reference/) - ç’°å¢ƒè®Šæ•¸å’Œé…ç½®é¸é …
- [å®‰è£å’Œè¨­ç½®](/zh-tw/install-and-setup/) - åˆå§‹è¨­ç½®å’Œé…ç½®
- [è³‡æ–™åº«ç®¡ç†](/zh-tw/guides/backend/) - è³‡æ–™åº«ç®¡ç†å’Œç®¡ç†

