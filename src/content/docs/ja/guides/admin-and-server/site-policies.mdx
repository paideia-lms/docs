---
title: サイトポリシー
description: Paideia LMS サイトのメディアストレージ制限とアップロード制限を設定します。
i18nReady: true
---

サイトポリシーにより、管理者はメディアストレージクォータとファイルアップロード制限のシステム全体の設定を設定できます。これらのポリシーは、プラットフォーム全体でのストレージ使用を管理し、すべてのユーザーに一貫したアップロード制限を確保するのに役立ちます。

## 概要

サイトポリシーは以下を提供します：

- **ユーザーメディアストレージクォータ**：ユーザーごとに許可される最大ストレージを設定
- **サイトアップロード制限**：すべてのアップロードの最大ファイルサイズを設定
- **無制限オプション**：無制限のストレージとアップロードサイズのサポート
- **クイックプリセット**：クイック設定のための一般的な値
- **カスタム値**：カスタムバイト値による正確な制御

## サイトポリシーへのアクセス

サイトポリシーページにアクセスする方法は2つあります：

### 方法1：管理者ダッシュボード経由

1. 管理者としてログイン
2. 上部ナビゲーションの **サイト管理** に移動
3. サイト管理メニューの **"一般"** タブをクリック
4. **"セキュリティ"** セクションまでスクロール
5. **"サイトセキュリティ設定"** をクリック
6. `/admin/sitepolicies` のサイトポリシーページに移動します

### 方法2：直接ナビゲーション

1. 管理者としてログイン
2. ブラウザで直接 `/admin/sitepolicies` に移動

![サイトポリシーページ](/gallery/admin-sitepolicies.webp)

## ユーザーメディアストレージクォータ

ユーザーメディアストレージ合計設定は、各ユーザーがメディアファイルに使用できるストレージスペースの量を制御します。

### ストレージクォータの設定

1. サイトポリシーページに移動
2. **"ユーザーメディアストレージ合計"** セクションを見つける
3. ドロップダウンからプリセット値を選択するか、**"カスタム..."** を選択して特定の値を入力
4. **"変更を保存"** をクリックして適用

### プリセットオプション

クイックプリセットオプションには以下が含まれます：

- **無制限**：ストレージ制限なし（null 値）
- **100 MB**：ユーザーごとに 100 メガバイト
- **500 MB**：ユーザーごとに 500 メガバイト
- **1 GB**：ユーザーごとに 1 ギガバイト
- **5 GB**：ユーザーごとに 5 ギガバイト
- **10 GB**：ユーザーごとに 10 ギガバイト（デフォルト）
- **50 GB**：ユーザーごとに 50 ギガバイト
- **100 GB**：ユーザーごとに 100 ギガバイト
- **カスタム**：バイト単位で特定の値を入力

### カスタム値

カスタムストレージクォータを設定するには：

1. ドロップダウンから **"カスタム..."** を選択
2. 数値入力フィールドにバイト単位で値を入力
3. プリセットが選択されている場合、システムはフォーマットされた値（例："10 GB"）を表示します
4. **"変更を保存"** をクリックして適用

### デフォルト値

デフォルトのストレージクォータは、ユーザーごとに **10 GB**（10 * 1024 * 1024 * 1024 バイト）です。

### 無制限ストレージ

ユーザーごとに無制限のストレージを許可するには：

1. ドロップダウンから **"無制限"** を選択
2. 値が `null` に設定されます
3. ユーザーはメディアドライブに "無制限" と表示されます
4. **"変更を保存"** をクリックして適用

## サイトアップロード制限

サイトアップロード制限設定は、プラットフォーム全体のすべてのアップロードで許可される最大ファイルサイズを制御します。

### アップロード制限の設定

1. サイトポリシーページに移動
2. **"サイトアップロード制限"** セクションを見つける
3. ドロップダウンからプリセット値を選択するか、**"カスタム..."** を選択して特定の値を入力
4. **"変更を保存"** をクリックして適用

### プリセットオプション

クイックプリセットオプションには以下が含まれます：

- **無制限**：アップロードサイズ制限なし（null 値）
- **1 MB**：最大 1 メガバイト
- **5 MB**：最大 5 メガバイト
- **10 MB**：最大 10 メガバイト
- **20 MB**：最大 20 メガバイト（デフォルト）
- **50 MB**：最大 50 メガバイト
- **100 MB**：最大 100 メガバイト
- **500 MB**：最大 500 メガバイト
- **1 GB**：最大 1 ギガバイト
- **カスタム**：バイト単位で特定の値を入力

### カスタム値

カスタムアップロード制限を設定するには：

1. ドロップダウンから **"カスタム..."** を選択
2. 数値入力フィールドにバイト単位で値を入力
3. プリセットが選択されている場合、システムはフォーマットされた値（例："20 MB"）を表示します
4. **"変更を保存"** をクリックして適用

### デフォルト値

デフォルトのアップロード制限は **20 MB**（20 * 1024 * 1024 バイト）です。

### 無制限アップロード

無制限のアップロードサイズを許可するには：

1. ドロップダウンから **"無制限"** を選択
2. 値が `null` に設定されます
3. サイズに関係なく、すべてのファイルアップロードが許可されます
4. **"変更を保存"** をクリックして適用

## ポリシーの適用方法

### ストレージクォータの強制

ストレージクォータは、ユーザーのメディアドライブに表示されます：

- **ドーナツチャート**：制限が設定されている場合、使用済みと利用可能なストレージを表示
- **割り当てテキスト**：設定された制限または "無制限" を表示
- **リアルタイム更新**：ユーザーがファイルをアップロードまたは削除すると、チャートが更新されます

クォータは、ユーザーがアップロードするすべてのメディアファイルに適用され、以下が含まれます：

- ユーザーアバター
- 課題添付ファイル
- ノート画像
- コースサムネイル
- ディスカッション添付ファイル
- その他のメディアファイル

### アップロード制限の強制

アップロード制限は、すべてのルートでアップロード時点で強制されます：

- **ユーザーメディアドライブ**：ファイルアップロードは制限を尊重します
- **課題提出**：ファイル添付は制限を尊重します
- **ノート画像**：画像アップロードは制限を尊重します
- **コースサムネイル**：サムネイルアップロードは制限を尊重します
- **ユーザーアバター**：アバターアップロードは制限を尊重します

ファイルが制限を超える場合：

1. アップロードが拒否されます
2. 最大許可サイズを示すエラーメッセージが表示されます
3. ファイルサイズは読みやすくフォーマットされます（例："ファイルサイズが最大許可サイズ 20 MB を超えています"）

## ベストプラクティス

### ストレージクォータの設定

- **ユーザーのニーズを考慮**：典型的な使用パターンに基づいてクォータを設定
- **保守的に開始**：低いクォータから始めて、必要に応じて増加
- **使用状況を監視**：ストレージ使用レポートを確認してクォータを調整
- **成長を考慮**：時間の経過とともに使用量の増加を計画
- **小規模サイトでは無制限**：小規模な展開では無制限ストレージを検討

### アップロード制限の設定

- **使いやすさとストレージのバランス**：必要なファイルタイプを許可する制限を設定
- **ファイルタイプを考慮**：異なるコンテンツタイプには異なる制限が必要な場合があります
- **ネットワークの考慮**：非常に大きな制限はタイムアウトの問題を引き起こす可能性があります
- **セキュリティ**：適切な制限は悪用を防ぐのに役立ちます
- **デフォルト値**：20 MB はほとんどのユースケースに適したデフォルトです

### ポリシー管理

- **変更をドキュメント化**：ポリシー変更の記録を保持
- **ユーザーに通知**：ポリシーが変更されたときにユーザーに通知
- **変更をテスト**：ポリシー変更が期待どおりに機能することを確認
- **影響を監視**：ポリシー変更後の問題に注意

## トラブルシューティング

### ポリシーが適用されない

ポリシーが適用されていないように見える場合：

1. 変更を保存したことを確認（"変更を保存" ボタンをクリック）
2. ページを更新して更新された値を確認
3. 正しいポリシー設定を表示していることを確認
4. データベース接続を確認
5. システムログでエラーを確認

### ユーザーがクォータ制限に達している

ユーザーがクォータ制限に達している場合：

1. 管理者メディア管理で現在のストレージ使用状況を確認
2. 適切な場合はクォータの増加を検討
3. ユーザーが未使用のファイルを特定して削除するのを支援
4. ファイル最適化のガイダンスを提供

### アップロードエラー

ユーザーがアップロードエラーを受け取っている場合：

1. アップロード制限が適切に設定されていることを確認
2. ファイルサイズが制限内であることを確認
3. 特定の問題についてエラーメッセージを確認
4. 異なるファイルタイプとサイズでアップロードをテスト

### 無制限設定が機能しない

無制限設定が機能しない場合：

1. "無制限" が選択されて保存されたことを確認
2. データベースで値が `null` であることを確認
3. ページを更新して更新された設定を確認
4. システムグローバルが正しく取得されていることを確認

## 関連機能

- [メディア管理](/ja/guides/media-management/) - ユーザーがメディアファイルを管理する方法を学ぶ
- [管理者メディア管理](/ja/guides/admin-and-server/admin-media-management/) - すべてのシステムメディアを表示および管理
- [メンテナンスモード](/ja/guides/admin-and-server/maintenance-mode/) - その他のシステム全体の設定について学ぶ

